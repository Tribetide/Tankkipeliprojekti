cmake_minimum_required(VERSION 3.15)
project(SFML_Tankkipeli)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# üîπ Tarkistetaan, k√§ytet√§√§nk√∂ MinGW:t√§
if(MINGW)
    message(STATUS "K√§ytet√§√§n MinGW:t√§")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -static-libgcc -static-libstdc++")
endif()

# üîπ Tarkistetaan, k√§ytet√§√§nk√∂ vcpkg:t√§
if(DEFINED CMAKE_TOOLCHAIN_FILE)
    message(STATUS "K√§ytet√§√§n vcpkg:t√§ SFML:n l√∂yt√§miseen.")
else()
    message(STATUS "Etsit√§√§n SFML manuaalisesti ilman vcpkg:t√§...")
endif()

# üîπ Etsit√§√§n SFML ilman kovakoodattuja polkuja
find_package(SFML 2.6 COMPONENTS graphics window system REQUIRED)

# üîπ Lis√§√§ hakemistot (jos k√§yt√∂ss√§)
include_directories(${CMAKE_SOURCE_DIR}/include)
file(GLOB SOURCES "${CMAKE_SOURCE_DIR}/src/*.cpp")

# üîπ Luodaan ohjelma
add_executable(Tankkipeli ${SOURCES})

# üîπ Linkitet√§√§n SFML automaattisesti
target_link_libraries(Tankkipeli PRIVATE sfml-graphics sfml-window sfml-system)
